!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("hyperapp")):"function"==typeof define&&define.amd?define(["exports","hyperapp"],e):e(t.hyperappRouter={},t.hyperapp)}(this,function(t,u){"use strict";function c(t){return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")}function p(t,e,n,o){return{isExact:t,path:e,url:n,params:o}}function s(t){for(var e=t.length;"/"===t[--e];);return t.slice(0,e+1)}function l(e){try{return decodeURIComponent(e)}catch(t){return e}}var e={state:{pathname:window.location.pathname,previous:window.location.pathname},actions:{go:function(t){history.pushState(null,"",t)},set:function(t){return t}},subscribe:function(e){function t(t){e.set({pathname:window.location.pathname,previous:t.detail?window.location.previous=t.detail:window.location.previous})}var n=["pushState","replaceState"].reduce(function(t,e){var o=history[e];return history[e]=function(t,e,n){o.call(this,t,e,n),dispatchEvent(new CustomEvent("pushstate",{detail:t}))},function(){history[e]=o,t&&t()}},null);return addEventListener("pushstate",t),addEventListener("popstate",t),function(){removeEventListener("pushstate",t),removeEventListener("popstate",t),n()}}};t.Link=function(a,i){return function(t,e){var n=a.to,o=t.location,r=a.onclick;return delete a.to,delete a.location,a.href=n,a.onclick=function(t){var e;r&&r(t),t.defaultPrevented||0!==t.button||t.altKey||t.metaKey||t.ctrlKey||t.shiftKey||"_blank"===a.target||(e=t.currentTarget,c(location)!==c(e))||(t.preventDefault(),n!==o.pathname&&history.pushState(o.pathname,"",n))},u.h("a",a,i)}},t.Route=function(r){return function(t,e){var n=t.location,o=function(t,e,n){if(t===e||!t)return p(t===e,t,e);var o=n&&n.exact,r=s(t).split("/"),a=s(e).split("/");if(!(r.length>a.length||o&&r.length<a.length)){var i=0,u={},c=r.length;for(e="";i<c;i++){if(":"===r[i][0])u[r[i].slice(1)]=a[i]=l(a[i]);else if(r[i]!==a[i])return;e+=a[i]+"/"}return p(!1,t,e.slice(0,-1),u)}}(r.path,n.pathname,{exact:!r.parent});return o&&r.render({match:o,location:n})}},t.Switch=function(t,r){return function(t,e){for(var n,o=0;!(n=r[o]&&r[o](t,e))&&o<r.length;)o++;return n}},t.Redirect=function(o){return function(t,e){var n=t.location;history.replaceState(o.from||n.pathname,"",o.to)}},t.location=e});
//# sourceMappingURL=router.js.map